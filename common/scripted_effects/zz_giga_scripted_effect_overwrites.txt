### Presets ###

# Vanilla+
giga_preset_vanilla_plus = {
    # Default
    remove_variable_warships = yes
    remove_all_menu_flags = yes
    remove_flags_buildcap = yes
    set_global_flag = giga_vanilla_plus_preset_selected

    set_global_flag = giga_buildcap_1
    set_global_flag = vanilla_dyson_capped_1
    set_global_flag = vanilla_interstellar_capped_1
    set_global_flag = vanilla_matter_capped_1
    set_global_flag = vanilla_art_capped_1
    set_global_flag = vanilla_shipyard_capped_1
    set_global_flag = vanilla_ringworld_capped_u
    set_global_flag = vanilla_nexus_capped_1
    set_global_flag = vanilla_array_capped_1
    set_global_flag = vanilla_strategic_capped_1
    set_global_flag = vanilla_furnace_capped_1
    set_global_flag = vanilla_dyson_swarm_capped_1
    set_global_flag = giga_rings_gar
    set_global_flag = cityring_capped_u
    set_global_flag = hivering_capped_u
    set_global_flag = machinering_capped_u
    set_global_flag = upgrade_disabled
    set_global_flag = alderson_capped_1
    set_global_flag = terraform_toxic_capped_1
    set_global_flag = warmoon_capped_1
    set_global_flag = drill_capped_1
    set_global_flag = warplanet_disabled
    set_global_flag = birch_capped_1
    set_global_flag = crystal_capped_1
    set_global_flag = terraform_barren_capped_1
    set_global_flag = shipyard_capped_1
    set_global_flag = suppressor_capped_1
    set_global_flag = geothermal_capped_1
    set_global_flag = glue_capped_1
    set_global_flag = hraemc_capped_1
    set_global_flag = hyperstructural_ass_capped_1
    set_global_flag = stellarhabitat_capped_1
    set_global_flag = kugel_capped_3
    set_global_flag = disco_moon_capped_1
    set_global_flag = terraform_gasgiant_capped_1
    set_global_flag = megabase_capped_1
    set_global_flag = matrioshka_brain_capped_1
    set_global_flag = gigaforge_capped_1
    set_global_flag = ndb_capped_1
    set_global_flag = nidavellir_capped_1
    set_global_flag = orbital_arcologies_capped_u
    set_global_flag = orbital_artificial_eco_capped_1
    set_global_flag = academy_capped_1
    # set_global_flag = giga_habitats_unlimited
    set_global_flag = penrose_sphere_capped_1
    set_global_flag = planetary_computer_capped_1
    set_global_flag = siphon_capped_u
    set_global_flag = quasistellar_capped_1
    set_global_flag = lifters_capped_1
    set_global_flag = accelerator_capped_1
    set_global_flag = systemcraft_disabled
    set_global_flag = compressor_capped_1
    set_global_flag = succ_capped_1
    set_global_flag = orchid_capped_1
    set_global_flag = the_vat_capped_1
    set_global_flag = asteroid_manufactory_capped_1
    set_global_flag = psychic_beacon_capped_1
    set_global_flag = asteroid_artillery_capped_u
    set_global_flag = planetshipyard_capped_3
    set_global_flag = maginot_capped_1
    set_global_flag = giga_achievements_effect_disabled
    set_global_flag = accelerator_disabled
    set_global_flag = storm_observatory_capped_1
    set_global_flag = supermassive_ehof_capped_1
    set_global_flag = planetary_seeder_nexus_capped_u
    set_global_flag = giga_celestial_printing_moon_disabled
    set_global_flag = giga_celestial_printing_planet_disabled
    set_global_flag = giga_fe_pouchkinn_disabled
    if = {
        limit = {
            NOT = {
                has_global_flag = giga_game_started
            }
        }
        set_global_flag = ehof_ai_capped_1
        set_global_flag = compound_disabled #Disabling by default
        remove_global_flag = giga_dyson_scaling
        remove_global_flag = giga_lifter_scaling
        remove_global_flag = giga_matroishka_scaling
        set_global_flag = katzenartig_disabled #it's kaisover
        set_global_flag = giga_blokkats_disabled
        set_global_flag = giga_core_always_empty
        set_global_flag = giga_galactic_fed_shuffle
        # THE SIRENS
        set_global_flag = giga_eawaf_sirens_disabled
        event_target:global_event_country = {
            set_variable = { #For mega output
                which = giga_mega_output
                value = 100
            }
            set_variable = { #For mega output (AI)
                which = giga_mega_output_ai
                value = 100
            }
            set_variable = { #For mega cost
                which = giga_mega_cost
                value = 100
            }
            set_variable = { #For mega cost (AI)
                which = giga_mega_cost_ai
                value = 50
            }
            set_variable = { #For mega upkeep
                which = giga_mega_upkeep
                value = 100
            }
            set_variable = { #For mega upkeep (AI)
                which = giga_mega_upkeep_ai
                value = 100
            }
            # Siren variables
            set_variable = {
                which = giga_eawaf_sirens_difficulty
                value = 2
            }
            set_variable = {
                which = sirens_spawn_date
                value = 2400
            }
            # Blokkat Variables
            set_variable = {
                which = blokkat_spawn_date
                value = 2500
            }
        }
        # Blokkat MP check
        if = {
            limit = {
                is_multiplayer = yes
            }
            set_global_flag = giga_blokkats_disabled
        }
        #CHECK FOR BLOKKAT DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            set_global_flag = giga_blokkats_deathmode
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            set_global_flag = giga_blokkats_endtech
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            set_global_flag = giga_blokkats_bismuth
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            set_global_flag = giga_blokkats_normal
        }
        else_if = { #No Planetcrafts?
            limit = {
                NOT = {
                    host_has_dlc = "Apocalypse"
                }
            }
            set_global_flag = giga_blokkats_very_easy
        }
        else = {
            set_global_flag = giga_blokkats_easy
        }
        #CHECK FOR SIRENS DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 7 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 6 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 4 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 3 } }
        }
        else = {
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 2 } }
        }
        # Disable O-Stars for real space
        if = {
            limit = { has_global_flag = has_real_space_mod }
            set_global_flag = giga_o_stars_disabled
        }
        # Check for FE planetcraft
        if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_3
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_2
        }
        else = {
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_0
        }
        # Nerf aeternum if no planetcraft
        if = {
            limit = {
                NOT = {
                    host_has_dlc = "Apocalypse"
                }
            }
            set_global_flag = giga_core_aeternum_1
        }
        else = {
            set_global_flag = giga_core_aeternum_2
        }
        # Buff aeternum for acot
        if = {
            limit = { has_global_flag = acot_activated }
            remove_flags_aeternum_difficulty = yes
            set_global_flag = giga_core_aeternum_3
        }
        # Machine age Settings
        if = {
            limit = {
                NOT = { has_machine_age_dlc = yes }
            }
            set_global_flag = vanilla_dyson_swarm_replace_disabled
            set_global_flag = vanilla_dyson_swarm_disabled
            set_global_flag = vanilla_furnace_disabled
        }

        # Stellar Manipulation
        set_global_flag = stellar_manip_manipulator_disabled
        set_global_flag = stellar_manip_o_systemcraft_disabled
        set_global_flag = stellar_manip_assembler_disabled

        # Hyperquasaric Megaconstruction - Most core megas aren't disabled even in vanilla+ for some reason
        set_global_flag = quasarmod_manipulator_disabled
        set_global_flag = quasarmod_quasarcraft_disabled
        #set_global_flag = quasarmod_mbrain_disabled
        #set_global_flag = quasarmod_teraforge_disabled
        #set_global_flag = quasarmod_shipyard_disabled
    }
}

# Gigas Experience
giga_preset_gigas_experience = {
    # Default
    remove_variable_warships = yes
    remove_all_menu_flags = yes
    remove_flags_buildcap = yes
    set_global_flag = giga_vanilla_plus_preset_selected

    set_global_flag = giga_buildcap_j
    set_global_flag = vanilla_dyson_capped_3
    set_global_flag = vanilla_interstellar_capped_3
    set_global_flag = vanilla_matter_capped_3
    set_global_flag = vanilla_art_capped_3
    set_global_flag = vanilla_shipyard_capped_3
    set_global_flag = vanilla_ringworld_capped_3
    set_global_flag = vanilla_nexus_capped_3
    set_global_flag = vanilla_array_capped_1
    set_global_flag = vanilla_strategic_capped_3
    set_global_flag = vanilla_furnace_capped_u
    set_global_flag = vanilla_dyson_swarm_capped_u
    set_global_flag = giga_rings_gar
    set_global_flag = cityring_capped_u
    set_global_flag = hivering_capped_u
    set_global_flag = machinering_capped_u
    set_global_flag = upgrade_disabled
    set_global_flag = alderson_capped_1
    set_global_flag = terraform_toxic_capped_3
    set_global_flag = warmoon_capped_u
    set_global_flag = drill_capped_u
    set_global_flag = warplanet_capped_1
    set_global_flag = birch_capped_1
    set_global_flag = crystal_capped_u
    set_global_flag = terraform_barren_capped_3
    set_global_flag = shipyard_capped_3
    set_global_flag = suppressor_capped_3
    set_global_flag = geothermal_capped_3
    set_global_flag = glue_capped_3
    set_global_flag = hraemc_capped_1
    set_global_flag = hyperstructural_ass_capped_1
    set_global_flag = stellarhabitat_capped_3
    set_global_flag = kugel_capped_u
    set_global_flag = disco_moon_capped_3
    set_global_flag = terraform_gasgiant_capped_3
    set_global_flag = megabase_capped_u
    set_global_flag = matrioshka_brain_capped_1
    set_global_flag = gigaforge_capped_3
    set_global_flag = ndb_capped_1
    set_global_flag = nidavellir_capped_1
    set_global_flag = orbital_arcologies_capped_u
    set_global_flag = orbital_artificial_eco_capped_u
    set_global_flag = academy_capped_3
    # set_global_flag = giga_habitats_unlimited
    set_global_flag = penrose_sphere_capped_3
    set_global_flag = planetary_computer_capped_3
    set_global_flag = siphon_capped_u
    set_global_flag = quasistellar_capped_1
    set_global_flag = lifters_capped_3
    set_global_flag = systemcraft_disabled
    set_global_flag = compressor_capped_3
    set_global_flag = succ_capped_u
    set_global_flag = orchid_capped_3
    set_global_flag = the_vat_capped_3
    set_global_flag = asteroid_manufactory_capped_u
    set_global_flag = psychic_beacon_capped_1
    set_global_flag = asteroid_artillery_capped_u
    set_global_flag = planetshipyard_capped_u
    set_global_flag = maginot_capped_3
    set_global_flag = giga_achievements_effect_disabled
    set_global_flag = accelerator_disabled
    set_global_flag = storm_observatory_capped_u
    set_global_flag = supermassive_ehof_capped_1
    set_global_flag = planetary_seeder_nexus_capped_u
    set_global_flag = giga_celestial_printing_planet_disabled
    if = {
        limit = {
            NOT = {
                has_global_flag = giga_game_started
            }
        }
        set_global_flag = ehof_ai_capped_1
        set_global_flag = compound_disabled #Disabling by default
        set_global_flag = katzenartig_disabled #it's kaisover
        set_global_flag = giga_blokkats_enabled
        set_global_flag = giga_core_shuffle
        set_global_flag = giga_galactic_fed_shuffle
        # THE SIRENS
        set_global_flag = giga_eawaf_sirens_disabled
        event_target:global_event_country = {
            set_variable = { #For mega output
                which = giga_mega_output
                value = 100
            }
            set_variable = { #For mega output (AI)
                which = giga_mega_output_ai
                value = 100
            }
            set_variable = { #For mega cost
                which = giga_mega_cost
                value = 100
            }
            set_variable = { #For mega cost (AI)
                which = giga_mega_cost_ai
                value = 50
            }
            set_variable = { #For mega upkeep
                which = giga_mega_upkeep
                value = 100
            }
            set_variable = { #For mega upkeep (AI)
                which = giga_mega_upkeep_ai
                value = 100
            }
            # Siren variables
            set_variable = {
                which = giga_eawaf_sirens_difficulty
                value = 2
            }
            set_variable = {
                which = sirens_spawn_date
                value = 2400
            }
            # Blokkat Variables
            set_variable = {
                which = blokkat_spawn_date
                value = 2500
            }
        }
        # Blokkat MP check
        if = {
            limit = {
                is_multiplayer = yes
            }
            set_global_flag = giga_blokkats_disabled
        }
        #CHECK FOR BLOKKAT DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            set_global_flag = giga_blokkats_deathmode
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            set_global_flag = giga_blokkats_endtech
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            set_global_flag = giga_blokkats_bismuth
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            set_global_flag = giga_blokkats_normal
        }
        else = {
            set_global_flag = giga_blokkats_very_easy
        }
        #CHECK FOR SIRENS DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 7 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 6 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 4 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 3 } }
        }
        else = {
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 2 } }
        }
        # Disable O-Stars for real space
        if = {
            limit = { has_global_flag = has_real_space_mod }
            set_global_flag = giga_o_stars_disabled
        }
        # Check for FE planetcraft
        if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_3
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_2
        }
        else = {
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_1
        }
        # Nerf aeternum if no planetcraft
        if = {
            limit = {
                NOT = {
                    host_has_dlc = "Apocalypse"
                }
            }
            set_global_flag = giga_core_aeternum_1
        }
        else = {
            set_global_flag = giga_core_aeternum_2
        }
        # Buff aeternum for acot
        if = {
            limit = { has_global_flag = acot_activated }
            remove_flags_aeternum_difficulty = yes
            set_global_flag = giga_core_aeternum_3
        }
        # Machine age Settings
        if = {
            limit = {
                NOT = { has_machine_age_dlc = yes }
            }
            set_global_flag = vanilla_dyson_swarm_replace_disabled
            set_global_flag = vanilla_dyson_swarm_disabled
            set_global_flag = vanilla_furnace_disabled
        }

        # Stellar Manipulation
        set_global_flag = stellar_manip_o_systemcraft_disabled
        set_global_flag = stellar_manip_assembler_disabled


        # Hyperquasaric Megaconstruction - Most core megas aren't disabled even in vanilla+ for some reason
        set_global_flag = quasarmod_quasarcraft_disabled
        if = {
            limit = { stellar_manip_is_active = no }
            set_global_flag = quasarmod_manipulator_disabled
        }
        #set_global_flag = quasarmod_mbrain_disabled
        #set_global_flag = quasarmod_teraforge_disabled
        #set_global_flag = quasarmod_shipyard_disabled
        #set_global_flag = quasarmod_manipulator_disabled
    }
}

# Arcade
giga_preset_arcade = {
    # Default
    remove_variable_warships = yes
    remove_all_menu_flags = yes
    remove_flags_buildcap = yes
    set_global_flag = giga_arcade_preset_selected

    set_global_flag = giga_buildcap_u
    set_global_flag = vanilla_dyson_capped_u
    set_global_flag = vanilla_interstellar_capped_u
    set_global_flag = vanilla_matter_capped_u
    set_global_flag = vanilla_art_capped_u
    set_global_flag = vanilla_shipyard_capped_u
    set_global_flag = vanilla_ringworld_capped_u
    set_global_flag = vanilla_nexus_capped_u
    set_global_flag = vanilla_array_capped_u
    set_global_flag = vanilla_strategic_capped_u
    set_global_flag = vanilla_furnace_capped_u
    set_global_flag = vanilla_dyson_swarm_capped_u
    set_global_flag = giga_rings_gar
    set_global_flag = cityring_capped_u
    set_global_flag = hivering_capped_u
    set_global_flag = machinering_capped_u
    set_global_flag = upgrade_capped_u
    set_global_flag = alderson_capped_u
    set_global_flag = terraform_toxic_capped_u
    set_global_flag = warmoon_capped_u
    set_global_flag = drill_capped_u
    set_global_flag = warplanet_capped_u
    set_global_flag = birch_capped_u
    set_global_flag = crystal_capped_u
    set_global_flag = terraform_barren_capped_u
    set_global_flag = shipyard_capped_u
    set_global_flag = suppressor_capped_u
    set_global_flag = geothermal_capped_u
    set_global_flag = glue_capped_u
    set_global_flag = hraemc_capped_u
    set_global_flag = hyperstructural_ass_capped_u
    set_global_flag = stellarhabitat_capped_u
    set_global_flag = kugel_capped_u
    set_global_flag = disco_moon_capped_u
    set_global_flag = terraform_gasgiant_capped_u
    set_global_flag = megabase_capped_u
    set_global_flag = matrioshka_brain_capped_u
    set_global_flag = gigaforge_capped_u
    set_global_flag = ndb_capped_1
    set_global_flag = nidavellir_capped_u
    set_global_flag = orbital_arcologies_capped_u
    set_global_flag = orbital_artificial_eco_capped_u
    set_global_flag = academy_capped_u
    # set_global_flag = giga_habitats_unlimited
    set_global_flag = penrose_sphere_capped_u
    set_global_flag = planetary_computer_capped_u
    set_global_flag = siphon_capped_u
    set_global_flag = quasistellar_capped_u
    set_global_flag = lifters_capped_u
    set_global_flag = accelerator_capped_u
    set_global_flag = systemcraft_capped_u
    set_global_flag = compressor_capped_u
    set_global_flag = succ_capped_u
    set_global_flag = orchid_capped_u
    set_global_flag = the_vat_capped_u
    set_global_flag = asteroid_manufactory_capped_u
    set_global_flag = psychic_beacon_capped_1
    set_global_flag = asteroid_artillery_capped_u
    set_global_flag = planetshipyard_capped_u
    set_global_flag = maginot_capped_u
    set_global_flag = accelerator_disabled
    set_global_flag = storm_observatory_capped_u
    set_global_flag = supermassive_ehof_capped_1
    set_global_flag = planetary_seeder_nexus_capped_u
    if = {
        limit = {
            NOT = {
                has_global_flag = giga_game_started
            }
        }
        set_global_flag = ehof_ai_capped_1
        set_global_flag = giga_core_shuffle
        set_global_flag = giga_galactic_fed_shuffle
        # THE SIRENS
        set_global_flag = giga_eawaf_sirens_disabled
        event_target:global_event_country = {
            set_variable = { #For mega output
                which = giga_mega_output
                value = 100
            }
            set_variable = { #For mega output (AI)
                which = giga_mega_output_ai
                value = 100
            }
            set_variable = { #For mega cost
                which = giga_mega_cost
                value = 100
            }
            set_variable = { #For mega cost (AI)
                which = giga_mega_cost_ai
                value = 50
            }
            set_variable = { #For mega upkeep
                which = giga_mega_upkeep
                value = 100
            }
            set_variable = { #For mega upkeep (AI)
                which = giga_mega_upkeep_ai
                value = 100
            }
            # Siren variables
            set_variable = {
                which = giga_eawaf_sirens_difficulty
                value = 2
            }
            set_variable = {
                which = sirens_spawn_date
                value = 2400
            }
            # Blokkat Variables
            set_variable = {
                which = blokkat_spawn_date
                value = 2500
            }
        }
        # Blokkat MP check
        if = {
            limit = {
                is_multiplayer = yes
            }
            set_global_flag = giga_blokkats_disabled
        }
        #CHECK FOR BLOKKAT DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            set_global_flag = giga_blokkats_deathmode
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            set_global_flag = giga_blokkats_endtech
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            set_global_flag = giga_blokkats_bismuth
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            set_global_flag = giga_blokkats_normal
        }
        else_if = { #No Planetcrafts?
            limit = {
                NOT = {
                    host_has_dlc = "Apocalypse"
                }
            }
            set_global_flag = giga_blokkats_very_easy
        }
        else = {
            set_global_flag = giga_blokkats_easy
        }
        #CHECK FOR SIRENS DIFFICULTY
        if = {
            limit = {
                OR = {
                    any_country = { has_country_flag = oe_player }
                    any_country = { has_authority = auth_warshipgirls }
                    any_country = { has_authority = auth_shenhai }
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 7 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_full_activated
                    has_global_flag = has_aot_mod
                    has_global_flag = has_sots_mod
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 6 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 4 } }
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 3 } }
        }
        else = {
            event_target:global_event_country = { set_variable = { which = giga_eawaf_sirens_difficulty value = 2 } }
        }
        # Disable O-Stars for real space
        if = {
            limit = { has_global_flag = has_real_space_mod }
            set_global_flag = giga_o_stars_disabled
        }
        # Check for FE planetcraft
        if = {
            limit = {
                OR = {
                    has_global_flag = acot_activated
                    is_sbtg_activated = yes
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_3
        }
        else_if = {
            limit = {
                OR = {
                    has_global_flag = nhsc_v30
                    has_global_flag = nhsc_overwrites_v30
                    has_global_flag = has_nsc_active
                }
            }
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_2
        }
        else = {
            remove_flags_fe_planetcrafts = yes
            set_global_flag = giga_fe_planetcrafts_1
        }
        set_global_flag = giga_core_aeternum_2
        # Buff aeternum for acot
        if = {
            limit = { has_global_flag = acot_activated }
            remove_flags_aeternum_difficulty = yes
            set_global_flag = giga_core_aeternum_3
        }
        # Machine age Settings
        if = {
            limit = {
                NOT = { has_machine_age_dlc = yes }
            }
            set_global_flag = vanilla_dyson_swarm_replace_disabled
            set_global_flag = vanilla_dyson_swarm_disabled
            set_global_flag = vanilla_furnace_disabled
        }
    }

    if = {
        limit = {
            stellar_manip_is_active = no
        }
        set_global_flag = stellar_manip_o_systemcraft_disabled
        set_global_flag = quasarmod_manipulator_disabled
        set_global_flag = stellar_manip_manipulator_disabled
    }
}


### Other Stuff ###
disable_menu_mega = {
    set_global_flag = vanilla_dyson_disabled
    set_global_flag = vanilla_interstellar_disabled
    set_global_flag = vanilla_matter_disabled
    set_global_flag = vanilla_art_disabled
    set_global_flag = vanilla_shipyard_disabled
    set_global_flag = vanilla_ringworld_disabled
    set_global_flag = vanilla_nexus_disabled
    set_global_flag = vanilla_array_disabled
    set_global_flag = vanilla_strategic_disabled
    set_global_flag = vanilla_furnace_disabled
    set_global_flag = vanilla_dyson_swarm_disabled
    set_global_flag = cityring_disabled
    set_global_flag = hivering_disabled
    set_global_flag = machinering_disabled
    set_global_flag = upgrade_disabled
    set_global_flag = alderson_disabled
    set_global_flag = terraform_toxic_disabled
    set_global_flag = warmoon_disabled
    set_global_flag = drill_disabled
    set_global_flag = warplanet_disabled
    set_global_flag = birch_disabled
    set_global_flag = crystal_disabled
    set_global_flag = terraform_barren_disabled
    set_global_flag = shipyard_disabled
    set_global_flag = suppressor_disabled
    set_global_flag = geothermal_disabled
    set_global_flag = glue_disabled
    set_global_flag = hraemc_disabled
    set_global_flag = hyperstructural_ass_disabled
    set_global_flag = stellarhabitat_disabled
    set_global_flag = kugel_disabled
    set_global_flag = disco_moon_disabled
    set_global_flag = terraform_gasgiant_disabled
    set_global_flag = megabase_disabled
    set_global_flag = matrioshka_brain_disabled
    set_global_flag = gigaforge_disabled
    set_global_flag = ndb_disabled
    set_global_flag = nidavellir_disabled
    set_global_flag = orbital_arcologies_disabled
    set_global_flag = orbital_artificial_eco_disabled
    set_global_flag = academy_disabled
    set_global_flag = giga_habitats_disabled
    set_global_flag = giga_habitats_advanced_orbitals_disabled
    set_global_flag = penrose_sphere_disabled
    set_global_flag = planetary_computer_disabled
    set_global_flag = siphon_disabled
    set_global_flag = quasistellar_disabled
    set_global_flag = lifters_disabled
    set_global_flag = accelerator_disabled
    set_global_flag = systemcraft_disabled
    set_global_flag = compressor_disabled
    set_global_flag = succ_disabled
    set_global_flag = orchid_disabled
    set_global_flag = the_vat_disabled
    set_global_flag = asteroid_manufactory_disabled
    set_global_flag = asteroid_artillery_disabled
    set_global_flag = psychic_beacon_disabled
    set_global_flag = virtual_reality_disabled
    set_global_flag = planetshipyard_disabled
    set_global_flag = maginot_disabled
    set_global_flag = giga_celestial_printing_moon_disabled
    set_global_flag = giga_celestial_printing_planet_disabled
    set_global_flag = storm_observatory_disabled
    set_global_flag = supermassive_ehof_disabled
    set_global_flag = planetary_seeder_nexus_disabled

    # Stellar Manipulation
    set_global_flag = stellar_manip_manipulator_disabled
    set_global_flag = stellar_manip_assembler_disabled
    set_global_flag = stellar_manip_o_systemcraft_disabled

    # Hyperquasaric Megaconstruction
    set_global_flag = quasarmod_manipulator_disabled
    set_global_flag = quasarmod_quasarcraft_disabled
    set_global_flag = quasarmod_mbrain_disabled
    set_global_flag = quasarmod_teraforge_disabled
    set_global_flag = quasarmod_shipyard_disabled

}

remove_menu_mega_disable = { #Removes the disable flag for everything mega related
    remove_global_flag = ehof_disabled
    remove_global_flag = giga_celestial_printing_moon_disabled #renamed this flag and planet printing so its less confusing and fits with naming scheme
    remove_global_flag = giga_celestial_printing_planet_disabled
    remove_global_flag = giga_wrecked_ships_disabled
    remove_global_flag = ring_titanic_disabled
    remove_global_flag = ring_behemoth_disabled
    remove_global_flag = ring_gargantuan_disabled
    remove_global_flag = vanilla_dyson_disabled
    remove_global_flag = vanilla_interstellar_disabled
    remove_global_flag = vanilla_matter_disabled
    remove_global_flag = vanilla_art_disabled
    remove_global_flag = vanilla_shipyard_disabled
    remove_global_flag = vanilla_ringworld_disabled
    remove_global_flag = vanilla_nexus_disabled
    remove_global_flag = vanilla_array_disabled
    remove_global_flag = vanilla_strategic_disabled
    remove_global_flag = storm_observatory_disabled

    if = {
        limit = {
            has_machine_age_dlc = yes
        }
        remove_global_flag = vanilla_furnace_disabled
        remove_global_flag = vanilla_dyson_swarm_disabled
    }
    remove_global_flag = cityring_disabled
    remove_global_flag = hivering_disabled
    remove_global_flag = machinering_disabled
    remove_global_flag = upgrade_disabled
    remove_global_flag = alderson_disabled
    remove_global_flag = terraform_toxic_disabled
    remove_global_flag = warmoon_disabled
    remove_global_flag = drill_disabled
    remove_global_flag = warplanet_disabled
    remove_global_flag = birch_disabled
    remove_global_flag = crystal_disabled
    remove_global_flag = terraform_barren_disabled
    remove_global_flag = shipyard_disabled
    remove_global_flag = suppressor_disabled
    remove_global_flag = geothermal_disabled
    remove_global_flag = glue_disabled
    remove_global_flag = hraemc_disabled
    remove_global_flag = hyperstructural_ass_disabled
    remove_global_flag = stellarhabitat_disabled
    remove_global_flag = kugel_disabled
    remove_global_flag = disco_moon_disabled
    remove_global_flag = terraform_gasgiant_disabled
    remove_global_flag = megabase_disabled
    remove_global_flag = matrioshka_brain_disabled
    remove_global_flag = gigaforge_disabled
    remove_global_flag = ndb_disabled
    remove_global_flag = nidavellir_disabled
    remove_global_flag = orbital_arcologies_disabled
    remove_global_flag = orbital_artificial_eco_disabled
    remove_global_flag = academy_disabled
    remove_global_flag = penrose_sphere_disabled
    remove_global_flag = planetary_computer_disabled
    remove_global_flag = siphon_disabled
    remove_global_flag = quasistellar_disabled
    remove_global_flag = lifters_disabled
    # remove_global_flag = accelerator_disabled
    remove_global_flag = systemcraft_disabled
    remove_global_flag = compressor_disabled
    remove_global_flag = succ_disabled
    remove_global_flag = orchid_disabled
    remove_global_flag = the_vat_disabled
    remove_global_flag = asteroid_manufactory_disabled
    remove_global_flag = psychic_beacon_disabled
    remove_global_flag = virtual_reality_disabled
    remove_global_flag = giga_virtual_industry
    remove_global_flag = asteroid_artillery_disabled #consolidating every mega disable here so we don't have to run remove flags for any particular mega independantly
    remove_global_flag = giga_habitats_disabled
    remove_global_flag = giga_habitats_advanced_orbitals_disabled
    remove_global_flag = maginot_disabled
    remove_global_flag = planetshipyard_disabled
    remove_global_flag = supermassive_ehof_disabled
    remove_global_flag = planetary_seeder_nexus_disabled

    # Stellar Manipulation
    if = {
        limit = { stellar_manip_is_active = yes }
        remove_global_flag = stellar_manip_manipulator_disabled
        remove_global_flag = stellar_manip_assembler_disabled
        remove_global_flag = stellar_manip_o_systemcraft_disabled
        remove_global_flag = quasarmod_manipulator_disabled
    }

    # Hyperquasaric Megaconstruction
    remove_global_flag = quasarmod_quasarcraft_disabled
    remove_global_flag = quasarmod_mbrain_disabled
    remove_global_flag = quasarmod_teraforge_disabled
    remove_global_flag = quasarmod_shipyard_disabled
}

# Create New EHOF System - Overwritten to add a flag to check whether a core was generated by the E.H.O.F or not
ehof_giga_new_create_new_continuous_system = {
    set_global_flag = ehof_spawning_system #Flag so people can tell their systems to drop to 0 usage odds if its the ehof if they don't want them to spawn or so we can make systems that spawn naturally but are more likely to occur in the ehof etc
    spawn_system = {
        min_distance >= @ehof_init_continuing_min
        max_distance <= @ehof_init_continuing_max
        hyperlane = no
        initializer = $initializer$
        effect = {
            if = {
                limit = {
                    star = { is_star_class = sc_birch }
                }
                set_star_flag = giga_birch_core_ehof
            }
            else = {
                set_star_flag = giga_qso_core_ehof
            }
            save_event_target_as = giga_last_ehof_spawn
        }
    }
    remove_global_flag = ehof_spawning_system
}
